(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{303:function(a,s,e){a.exports=e.p+"assets/img/cerebro.9830c0da.png"},304:function(a,s,e){a.exports=e.p+"assets/img/kibana.b67666a4.png"},333:function(a,s,e){"use strict";e.r(s);var t=e(8),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"install-elasticsearch-and-kibana"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-elasticsearch-and-kibana"}},[a._v("#")]),a._v(" Install ElasticSearch and Kibana")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("Screencast: "),s("a",{attrs:{href:"https://asciinema.org/a/229605?autoplay=0&t=228",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://asciinema.org/a/229605?t=228"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("Add "),s("a",{attrs:{href:"https://github.com/upmc-enterprises/elasticsearch-operator",target:"_blank",rel:"noopener noreferrer"}},[a._v("ElasticSearch operator"),s("OutboundLink")],1),a._v("\nto Helm:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("helm repo "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" es-operator https://raw.githubusercontent.com/upmc-enterprises/elasticsearch-operator/master/charts/\n")])])]),s("p",[a._v("Install ElasticSearch operator:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("helm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--wait")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" elasticsearch-operator es-operator/elasticsearch-operator "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("rbac.enabled")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),a._v(" es-operator\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sleep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v("\n")])])]),s("p",[a._v("Check how the operator looks like:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("kubectl get svc,deploy,po "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("es-operator "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" wide\n")])])]),s("p",[a._v("Output:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("NAME                                           READY   UP-TO-DATE   AVAILABLE   AGE    CONTAINERS               IMAGES                                          SELECTOR\ndeployment.extensions/elasticsearch-operator   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("           106s   elasticsearch-operator   upmcenterprises/elasticsearch-operator:0.0.12   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-operator,release"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-operator\n\nNAME                                          READY   STATUS    RESTARTS   AGE    IP           NODE                             NOMINATED NODE   READINESS GATES\npod/elasticsearch-operator-5dc59b8cc5-6946l   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          106s   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".1.9   pruzicka-k8s-istio-workshop-node03   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("p",[a._v("Install ElasticSearch cluster:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("helm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--wait")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),a._v(" logging es-operator/elasticsearch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("kibana.enabled")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("cerebro.enabled")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("storage.class")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("rook-ceph-block "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("clientReplicas")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(",masterReplicas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(",dataReplicas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sleep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v("\n")])])]),s("p",[a._v("Check ElasticSearch components:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("kubectl get svc,deploy,po,pvc,elasticsearchclusters "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("logging "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" wide\n")])])]),s("p",[a._v("Output:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("NAME                                                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("S"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("    AGE   SELECTOR\nservice/cerebro-elasticsearch-cluster                   ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.105")]),a._v(".197.151   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/TCP     18m   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cerebro\nservice/elasticsearch-discovery-elasticsearch-cluster   ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.111")]),a._v(".76.241    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("/TCP   18m   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("master\nservice/elasticsearch-elasticsearch-cluster             ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.104")]),a._v(".103.49    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("/TCP   18m   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("client\nservice/es-data-svc-elasticsearch-cluster               ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.98")]),a._v(".179.244    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("/TCP   18m   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("data\nservice/kibana-elasticsearch-cluster                    ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.110")]),a._v(".19.242    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/TCP     18m   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kibana\n\nNAME                                                    READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS                        IMAGES                                                    SELECTOR\ndeployment.extensions/cerebro-elasticsearch-cluster     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("           18m   cerebro-elasticsearch-cluster     upmcenterprises/cerebro:0.6.8                             "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cerebro-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cerebro\ndeployment.extensions/es-client-elasticsearch-cluster   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("           18m   es-client-elasticsearch-cluster   upmcenterprises/docker-elasticsearch-kubernetes:6.1.3_0   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("cluster")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-cluster,component"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("es-client-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("client\ndeployment.extensions/kibana-elasticsearch-cluster      "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("           18m   kibana-elasticsearch-cluster      docker.elastic.co/kibana/kibana-oss:6.1.3                 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster,name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kibana-elasticsearch-cluster,role"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kibana\n\nNAME                                                    READY   STATUS    RESTARTS   AGE   IP            NODE                             NOMINATED NODE   READINESS GATES\npod/cerebro-elasticsearch-cluster-64888cf977-dgb8g      "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          18m   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".0.9    pruzicka-k8s-istio-workshop-node01   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\npod/es-client-elasticsearch-cluster-8d9df64b7-tvl8z     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          18m   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".1.11   pruzicka-k8s-istio-workshop-node03   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\npod/es-data-elasticsearch-cluster-rook-ceph-block-0     "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          18m   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".2.11   pruzicka-k8s-istio-workshop-node02   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\npod/es-master-elasticsearch-cluster-rook-ceph-block-0   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          18m   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".2.10   pruzicka-k8s-istio-workshop-node02   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\npod/kibana-elasticsearch-cluster-7fb7f88f55-6sl6j       "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          18m   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".2.9    pruzicka-k8s-istio-workshop-node02   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\nNAME                                                                              STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS      AGE\npersistentvolumeclaim/es-data-es-data-elasticsearch-cluster-rook-ceph-block-0     Bound    pvc-870ad81a-2863-11e9-a470-fa163e90237a   1Gi        RWO            rook-ceph-block   18m\npersistentvolumeclaim/es-data-es-master-elasticsearch-cluster-rook-ceph-block-0   Bound    pvc-86fcb9ce-2863-11e9-a470-fa163e90237a   1Gi        RWO            rook-ceph-block   18m\n\nNAME                                                              AGE\nelasticsearchcluster.enterprises.upmc.com/elasticsearch-cluster   18m\n")])])]),s("h2",{attrs:{id:"install-fluentbit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-fluentbit"}},[a._v("#")]),a._v(" Install "),s("a",{attrs:{href:"https://fluentbit.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("FluentBit"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("Install FluentBit using Helm:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("helm "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--wait")]),a._v(" stable/fluent-bit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("fluent-bit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--namespace")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("logging "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("metrics.enabled")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("backend.type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("es "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("backend.es.time_key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'@ts'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("backend.es.host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch-elasticsearch-cluster "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("backend.es.tls")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("on "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("backend.es.tls_verify")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("off\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("Run the following command on your local environment.")])]),a._v(" "),s("p",[a._v("Configure port forwarding to Kibana:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("kubectl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" logging port-forward "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("kubectl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" logging get pod "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kibana "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("jsonpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{.items[0].metadata.name}"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5601")]),a._v(":5601 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),s("p",[a._v("Configure ElasticSearch:")]),a._v(" "),s("ul",[s("li",[a._v("Navigate to the "),s("a",{attrs:{href:"https://localhost:5601",target:"_blank",rel:"noopener noreferrer"}},[a._v("Kibana UI"),s("OutboundLink")],1),a._v(" ("),s("a",{attrs:{href:"https://localhost:5601",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://localhost:5601"),s("OutboundLink")],1),a._v(")\nand click the "),s("strong",[a._v("Set up index patterns")]),a._v(" in the top right.")]),a._v(" "),s("li",[a._v("Use "),s("code",[a._v("*")]),a._v(" as the "),s("strong",[a._v("index pattern")]),a._v(", and click "),s("strong",[a._v("Next step")]),a._v(".")]),a._v(" "),s("li",[a._v("Select "),s("code",[a._v("@ts")]),a._v(" as the Time Filter field name, and click "),s("strong",[a._v("Create index pattern")]),a._v(".")])]),a._v(" "),s("p",[a._v("Check FluentBit installation:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("kubectl get "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("fluent-bit svc,pods --all-namespaces "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" wide\n")])])]),s("p",[a._v("Output:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("NAMESPACE   NAME                                    TYPE        CLUSTER-IP     EXTERNAL-IP   PORT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("S"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("    AGE   SELECTOR\nlogging     service/fluent-bit-fluent-bit-metrics   ClusterIP   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.97")]),a._v(".33.162   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020")]),a._v("/TCP   80s   "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("fluent-bit,release"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("fluent-bit\n\nNAMESPACE   NAME                              READY   STATUS    RESTARTS   AGE   IP            NODE                             NOMINATED NODE   READINESS GATES\nlogging     pod/fluent-bit-fluent-bit-426ph   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          80s   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".0.10   pruzicka-k8s-istio-workshop-node01   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nlogging     pod/fluent-bit-fluent-bit-c6tbx   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          80s   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".1.12   pruzicka-k8s-istio-workshop-node03   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nlogging     pod/fluent-bit-fluent-bit-zfkqr   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          80s   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.244")]),a._v(".2.12   pruzicka-k8s-istio-workshop-node02   "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("Run the following command on your local environment.")])]),a._v(" "),s("p",[a._v("Configure port forwarding to Cerebro:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("kubectl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" logging port-forward "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("kubectl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" logging get pod "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("role")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cerebro "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("jsonpath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{.items[0].metadata.name}"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v(":9000 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/lmenezes/cerebro",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cerebro"),s("OutboundLink")],1),a._v(" ("),s("a",{attrs:{href:"http://localhost:9000",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://localhost:9000"),s("OutboundLink")],1),a._v("):")]),a._v(" "),s("p",[s("img",{attrs:{src:e(303),alt:"Cerebro",title:"Cerebro"}})]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.elastic.co/products/kibana",target:"_blank",rel:"noopener noreferrer"}},[a._v("Kibana"),s("OutboundLink")],1),a._v(" ("),s("a",{attrs:{href:"https://localhost:5601",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://localhost:5601"),s("OutboundLink")],1),a._v("):")]),a._v(" "),s("p",[s("img",{attrs:{src:e(304),alt:"Kibana",title:"Kibana"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cncf/artwork/master/projects/fluentd/fluentbit/icon/fluentbit-icon-color.png",alt:"Fluent Bit",title:"Fluent Bit"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);