(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{281:function(s,e,t){s.exports=t.p+"assets/img/kubeadm_diagram.dfa2d371.png"},334:function(s,e,t){"use strict";t.r(e);var a=t(8),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"install-kubernetes-to-the-vms"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-kubernetes-to-the-vms"}},[s._v("#")]),s._v(" Install Kubernetes to the VMs")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v("Screencast: "),e("a",{attrs:{href:"https://asciinema.org/a/229605?autoplay=0&t=106",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://asciinema.org/a/229605?t=106"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("This diagram is showing how your environment will looks like after this lab:")]),s._v(" "),e("p",[e("img",{attrs:{src:t(281),alt:"Lab diagram",title:"Lab diagram"}})]),s._v(" "),e("p",[s._v("Install k8s using "),e("code",[s._v("kubeadm")]),s._v(" to the provisioned VMs:")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("./files/install-k8s-kubeadm.sh\n")])])]),e("p",[s._v("Check if all nodes are up:")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBECONFIG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/kubeconfig.conf\nkubectl get nodes "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wide\n")])])]),e("p",[s._v("Output:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("NAME                             STATUS   ROLES    AGE   VERSION   INTERNAL-IP      EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME\npruzicka-k8s-istio-workshop-node01   Ready    master   2m    v1.13.3   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        Ubuntu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.04")]),s._v(".1 LTS   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.15")]),s._v(".0-43-generic   docker://18.6.1\npruzicka-k8s-istio-workshop-node02   Ready    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   45s   v1.13.3   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.12   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        Ubuntu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.04")]),s._v(".1 LTS   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.15")]),s._v(".0-43-generic   docker://18.6.1\npruzicka-k8s-istio-workshop-node03   Ready    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   50s   v1.13.3   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.13   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        Ubuntu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.04")]),s._v(".1 LTS   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.15")]),s._v(".0-43-generic   docker://18.6.1\n")])])]),e("p",[s._v("View services, deployments, and pods:")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("kubectl get svc,deploy,po --all-namespaces "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wide\n")])])]),e("p",[s._v("Output:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("NAMESPACE     NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("         AGE     SELECTOR\ndefault       service/kubernetes   ClusterIP   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("/TCP         2m16s   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   service/kube-dns     ClusterIP   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.10   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("/UDP,53/TCP   2m11s   k8s-app"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-dns\n\nNAMESPACE     NAME                            READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS   IMAGES                     SELECTOR\nkube-system   deployment.extensions/coredns   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/2     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("            "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("           2m11s   coredns      k8s.gcr.io/coredns:1.2.6   k8s-app"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-dns\n\nNAMESPACE     NAME                                                         READY   STATUS    RESTARTS   AGE    IP               NODE                             NOMINATED NODE   READINESS GATES\nkube-system   pod/coredns-86c58d9df4-tlmvh                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          116s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".0.2       pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/coredns-86c58d9df4-zk685                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          116s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".0.3       pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/etcd-pruzicka-k8s-istio-workshop-node01                      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          79s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-apiserver-pruzicka-k8s-istio-workshop-node01            "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          72s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-controller-manager-pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          65s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-flannel-ds-amd64-cvpfq                              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          65s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.13   pruzicka-k8s-istio-workshop-node03   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-flannel-ds-amd64-ggqmv                              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          60s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.12   pruzicka-k8s-istio-workshop-node02   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-flannel-ds-amd64-ql6g6                              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          117s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-proxy-79mx8                                         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          117s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-proxy-f99q2                                         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          65s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.13   pruzicka-k8s-istio-workshop-node03   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-proxy-w4tbd                                         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          60s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.12   pruzicka-k8s-istio-workshop-node02   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nkube-system   pod/kube-scheduler-pruzicka-k8s-istio-workshop-node01            "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          78s    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".250.11   pruzicka-k8s-istio-workshop-node01   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),e("p",[s._v("Configure the access to Kubernetes cluster also from your local PC.")])]),s._v(" "),e("p",[s._v("Open new terminal on your PC and run:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBECONFIG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/tmp/test/k8s-istio-workshop/kubeconfig.conf\nkubectl get nodes "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" wide\n")])])]),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/cncf/artwork/04763c0f5f72b23d6a20bfc9c68c88cee805dbcc/projects/kubernetes/horizontal/color/kubernetes-horizontal-color.svg",alt:"Kubernetes",title:"Kubernetes"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);