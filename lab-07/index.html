<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Istio - Bookinfo Application | Istio Workshop</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/k8s-istio-workshop/favicon.ico">
    <meta name="description" content="Istio workshop running on OpenStack">
    
    <link rel="preload" href="/k8s-istio-workshop/assets/css/0.styles.0b0f330d.css" as="style"><link rel="preload" href="/k8s-istio-workshop/assets/js/app.aadafe26.js" as="script"><link rel="preload" href="/k8s-istio-workshop/assets/js/2.a8265927.js" as="script"><link rel="preload" href="/k8s-istio-workshop/assets/js/1.3a70545e.js" as="script"><link rel="preload" href="/k8s-istio-workshop/assets/js/15.80434ec3.js" as="script"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/10.bd1d19b3.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/11.7efd562e.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/12.79f7589e.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/13.5b42aed2.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/14.7ad01137.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/16.d9227f7e.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/17.40b8b7c6.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/18.4234d16a.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/19.37c72c39.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/20.0ebf2e6b.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/21.6a41ea33.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/22.04ccdfbd.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/23.1386b505.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/24.3df70004.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/25.d400635d.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/26.a13820f0.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/27.90486a95.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/28.69da74d8.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/29.d35c18f8.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/3.33543ee3.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/30.0eb57089.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/31.4825d30c.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/32.6fdb390b.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/33.92de5503.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/34.6d8df76e.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/4.01dc66c0.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/5.16b2e612.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/6.f0a224ac.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/7.fdd4ffc3.js"><link rel="prefetch" href="/k8s-istio-workshop/assets/js/vendors~docsearch.c20bc4a1.js">
    <link rel="stylesheet" href="/k8s-istio-workshop/assets/css/0.styles.0b0f330d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/k8s-istio-workshop/" class="home-link router-link-active"><img src="/k8s-istio-workshop/istio.svg" alt="Istio Workshop" class="logo"> <span class="site-name can-hide">Istio Workshop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/k8s-istio-workshop/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Istio links" class="dropdown-title"><span class="title">Istio links</span> <span class="arrow down"></span></button> <button type="button" aria-label="Istio links" class="mobile-dropdown-title"><span class="title">Istio links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://istio.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://istio.io/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ruzickap/k8s-istio-workshop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio workshop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ruzickap/k8s-istio-demo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/ruzickap/k8s-istio-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/k8s-istio-workshop/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Istio links" class="dropdown-title"><span class="title">Istio links</span> <span class="arrow down"></span></button> <button type="button" aria-label="Istio links" class="mobile-dropdown-title"><span class="title">Istio links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://istio.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://istio.io/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ruzickap/k8s-istio-workshop" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio workshop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ruzickap/k8s-istio-demo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Istio demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/ruzickap/k8s-istio-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/k8s-istio-workshop/" aria-current="page" class="sidebar-link">Istio workshop</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/#objectives" class="sidebar-link">Objectives</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/#workshop" class="sidebar-link">Workshop</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/#list-of-guis-used-in-workshop" class="sidebar-link">List of GUIs used in Workshop</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/#links" class="sidebar-link">Links</a></li></ul></li><li><a href="/k8s-istio-workshop/lab-01/" class="sidebar-link">Create VMs in OpenStack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-01/#prepare-the-local-working-environment-inside-docker" class="sidebar-link">Prepare the local working environment inside Docker</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-01/#provision-vms-in-openstack" class="sidebar-link">Provision VMs in OpenStack</a></li></ul></li><li><a href="/k8s-istio-workshop/lab-02/" class="sidebar-link">Install Kubernetes to the VMs</a></li><li><a href="/k8s-istio-workshop/lab-03/" class="sidebar-link">Install Helm</a></li><li><a href="/k8s-istio-workshop/lab-04/" class="sidebar-link">Install Rook</a></li><li><a href="/k8s-istio-workshop/lab-05/" class="sidebar-link">Install ElasticSearch and Kibana</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-05/#install-fluentbit" class="sidebar-link">Install FluentBit</a></li></ul></li><li><a href="/k8s-istio-workshop/lab-06/" class="sidebar-link">Istio - Installation</a></li><li><a href="/k8s-istio-workshop/lab-07/" aria-current="page" class="active sidebar-link">Istio - Bookinfo Application</a></li><li><a href="/k8s-istio-workshop/lab-08/" class="sidebar-link">Istio - Configuring Request Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-08/#apply-a-virtual-service" class="sidebar-link">Apply a virtual service</a></li><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-08/#route-based-on-user-identity" class="sidebar-link">Route based on user identity</a></li></ul></li><li><a href="/k8s-istio-workshop/lab-09/" class="sidebar-link">Istio - Injecting an HTTP delay fault</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/k8s-istio-workshop/lab-09/#injecting-an-http-abort-fault" class="sidebar-link">Injecting an HTTP abort fault</a></li></ul></li><li><a href="/k8s-istio-workshop/lab-10/" class="sidebar-link">Istio - Weight-based routing</a></li><li><a href="/k8s-istio-workshop/lab-11/" class="sidebar-link">Istio - Mirroring</a></li><li><a href="/k8s-istio-workshop/lab-12/" class="sidebar-link">Istio - Cleanup</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="istio-bookinfo-application"><a href="#istio-bookinfo-application" class="header-anchor">#</a> Istio - Bookinfo Application</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Screencast: <a href="https://asciinema.org/a/229605?autoplay=0&amp;t=352" target="_blank" rel="noopener noreferrer">https://asciinema.org/a/229605?t=352<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p>The Bookinfo application is broken into four separate microservices:</p> <ul><li><code>productpage</code> - the productpage microservice calls the details and reviews
microservices to populate the page.</li> <li><code>details</code> - the details microservice contains book information.</li> <li><code>reviews</code> - the reviews microservice contains book reviews. It also calls
the ratings microservice.</li> <li><code>ratings</code> - the ratings microservice contains book ranking information
that accompanies a book review.</li></ul> <p>There are 3 versions of the <code>reviews</code> microservice:</p> <ul><li><p>Version <code>v1</code> - doesnâ€™t call the <strong>ratings service</strong>.</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAsCAIAAADka3H1AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFRUlEQVRoge2XX0hTbRjAn3OOtKOzzXnmQo+a25mLiY0hIRqSmTBQYUhgiTHwoi7Dq278F4R4IaK33TXwpoJs7FhGISKSQdT0IpcQbmf+iZbTsTzq2PTYxfm+fX7usy/3vau+73t/V4ftfZ73eX7b++cQ8XgcMIggf3YB/ymwTZRgmyjBNlGCbaIE20TJr27T6/X29fX97Cq+FyJN983h4eG1tbXf5iAIlUplNpttNhtN08fKs7W1FQqFTp8+nYYa/yAejz979uzdu3exWIxl2cbGxoKCghTyZCCvLEFdXV1lZSUASJIUCoV4nhdFsa2t7VhJlEqlUqlMT4EAAJIkkSQ5NjYWCASuXbumVCpfvHgxMjJy69Ytkjz2wk2jTZqm1Wq1/KzRaGw228OHD+Xqw+Gw2+32+/00TZtMpqamJkmS+vv729vbOY6TQ+7evavX64uKikZHR7u7uwEgOUoUxaGhoa6urqysLEmS7ty5U1FRYbfbAWBmZmZ+fv7GjRs+n+/p06dra2sqlaqysrKmpoYgiCdPnkSj0Z2dHUEQuru7CYKw2+3FxcUAYLPZBgcHw+EwwzDHbfnH7ZskSUqStL+/DwD3799nGKazs/PmzZtfvnzheT4zM7O0tNTr9cqDNzc3l5eXLRbLwQzJUQzDqNXq5eVlAFhdXc3JyREEQR4sCALHcaIojoyMXLhw4fbt2w6H49WrV7OzswBAUdSHDx8MBkNHRwcANDc3GwyGxNQZGRnZ2dmp9JiamuOysbExOTlpMpkoilpZWfn48WNDQ8OJEyeUSmV9ff3c3JwkSWfPnk3YnJ+fz8vLy8/PT2Q4KspgMAQCAQAQBKG8vHx7e3tnZwcAAoEAx3Gzs7Msy1osFpIkdTpdVVWVx+ORE1IUdf78+ZMnTx6sMxqNulyu2tpahUKRQptpXOnPnz+fmJgAgP39/b29vTNnzly+fBkANjY29vb2enp6Dg6ORCJlZWWPHz9eXV1lWdbr9R76Yx4VxXHcmzdvAMDv91dXVweDwaWlJYZhYrFYUVGRx+Px+XydnZ2JEI1GIz8kL+RIJOJ0OktKSi5dupRay39jU96wvofke0xNTc25c+cAIBAIuN3upqYm+TwhCIKm6d7e3uQkRqPR6/VqNBqfzydvfwmOiqIoyuVy7e7uLi0tXb16NRgM+v1+URT1ej1JkgRBmM1mh8ORPFdGxp96//Tpk9PprKqqunjx4ne2/Bc5v/31P7nrZWVlyb8/wzALCwuPHj26fv06QRC5ubnRaDQSichnVCwWi8fjsmiLxTI9Pa3VavPz87Va7cFsR0WpVCq1Wu3xeHJychQKRXFx8fj4+NbWlnyaabXaxcXFRBJRFGmaPuQRAMLh8L179xoaGqxWa8r9wg/bN+12ezAYfPnyJQCwLFtYWMjz/Pb2djQadbvdDx48kIeZzeZQKPT27dtDy/zbUQaDYWZmRr6Tsiz7+fNnQRCMRiMAWK3Wzc3Nqamp3d3dcDjsdDqnp6eTy+N5nuM4vV4f+Z3UruFp3DcPkp2d3djY6HK5TCaTTqdrbW3leX5gYIAkSY7jrly5Ig9TKBSlpaXv379vaWlJTnJUlNFofP36dX19PQBQFKXT6dbX10+dOiXP63A4xsfHJyYmMjMzrVZrbW3tobSxWGxhYQEA5ubmEh+2tbWVl5cft810vQv9P/nV39P/XWCbKME2UYJtogTbRAm2iRJsEyXYJkqwTZRgmyjBNlGCbaIE20QJtokSbBMl2CZKsE2UYJsowTZRgm2iBNtECbaJEmwTJdgmSrBNlHwFGGA5ftmDV+4AAAAASUVORK5CYII=" alt="Bookinfo v1" title="Bookinfo v1"></p></li> <li><p>Version <code>v2</code> - calls the ratings service, and displays each rating as 1 to 5
<strong>black stars</strong>.</p> <p><img src="data:image/png;base64,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" alt="Bookinfo v2" title="Bookinfo v2"></p></li> <li><p>Version <code>v3</code> - calls the ratings service, and displays each rating as 1 to 5
<strong>red stars</strong>.</p> <p><img src="data:image/png;base64,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" alt="Bookinfo v3" title="Bookinfo v3"></p></li></ul> <p><a href="https://istio.io/docs/examples/bookinfo/" target="_blank" rel="noopener noreferrer">Bookinfo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> application architecture:</p> <p><img src="https://raw.githubusercontent.com/istio/istio.io/7bf371365e4a16a9a13c0e79355fe1eac7f8f99f/content/docs/examples/bookinfo/withistio.svg?sanitize=true" alt="Application Architecture with Istio" title="Application Architecture with Istio"></p> <p>Deploy the demo of <a href="https://istio.io/docs/examples/bookinfo/" target="_blank" rel="noopener noreferrer">Bookinfo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> application:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl apply <span class="token parameter variable">-f</span> samples/bookinfo/platform/kube/bookinfo.yaml
<span class="token function">sleep</span> <span class="token number">400</span>
</code></pre></div><hr> <p>Confirm all services and pods are correctly defined and running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl get svc,deployment,pods <span class="token parameter variable">-o</span> wide
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>    AGE     SELECTOR
service/details       ClusterIP   <span class="token number">10.103</span>.142.153   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">9080</span>/TCP   4m21s   <span class="token assign-left variable">app</span><span class="token operator">=</span>details
service/kubernetes    ClusterIP   <span class="token number">10.96</span>.0.1        <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP    75m     <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
service/productpage   ClusterIP   <span class="token number">10.111</span>.62.53     <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">9080</span>/TCP   4m17s   <span class="token assign-left variable">app</span><span class="token operator">=</span>productpage
service/ratings       ClusterIP   <span class="token number">10.110</span>.22.215    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">9080</span>/TCP   4m20s   <span class="token assign-left variable">app</span><span class="token operator">=</span>ratings
service/reviews       ClusterIP   <span class="token number">10.100</span>.73.81     <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">9080</span>/TCP   4m19s   <span class="token assign-left variable">app</span><span class="token operator">=</span>reviews

NAME                                   READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS    IMAGES                                         SELECTOR
deployment.extensions/details-v1       <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m21s   details       istio/examples-bookinfo-details-v1:1.8.0       <span class="token assign-left variable">app</span><span class="token operator">=</span>details,version<span class="token operator">=</span>v1
deployment.extensions/productpage-v1   <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m16s   productpage   istio/examples-bookinfo-productpage-v1:1.8.0   <span class="token assign-left variable">app</span><span class="token operator">=</span>productpage,version<span class="token operator">=</span>v1
deployment.extensions/ratings-v1       <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m20s   ratings       istio/examples-bookinfo-ratings-v1:1.8.0       <span class="token assign-left variable">app</span><span class="token operator">=</span>ratings,version<span class="token operator">=</span>v1
deployment.extensions/reviews-v1       <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m19s   reviews       istio/examples-bookinfo-reviews-v1:1.8.0       <span class="token assign-left variable">app</span><span class="token operator">=</span>reviews,version<span class="token operator">=</span>v1
deployment.extensions/reviews-v2       <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m18s   reviews       istio/examples-bookinfo-reviews-v2:1.8.0       <span class="token assign-left variable">app</span><span class="token operator">=</span>reviews,version<span class="token operator">=</span>v2
deployment.extensions/reviews-v3       <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           4m18s   reviews       istio/examples-bookinfo-reviews-v3:1.8.0       <span class="token assign-left variable">app</span><span class="token operator">=</span>reviews,version<span class="token operator">=</span>v3

NAME                                      READY   STATUS    RESTARTS   AGE     IP            NODE                             NOMINATED NODE   READINESS GATES
pod/details-v1-68c7c8666d-pvrx6           <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m21s   <span class="token number">10.244</span>.1.20   pruzicka-k8s-istio-workshop-node03   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/elasticsearch-operator-sysctl-297j8   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          45m     <span class="token number">10.244</span>.2.8    pruzicka-k8s-istio-workshop-node02   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/elasticsearch-operator-sysctl-bg8rn   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          45m     <span class="token number">10.244</span>.1.10   pruzicka-k8s-istio-workshop-node03   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/elasticsearch-operator-sysctl-vwvbl   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          45m     <span class="token number">10.244</span>.0.8    pruzicka-k8s-istio-workshop-node01   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/productpage-v1-54d799c966-2b4ss       <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m16s   <span class="token number">10.244</span>.1.23   pruzicka-k8s-istio-workshop-node03   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/ratings-v1-8558d4458d-ln99n           <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m20s   <span class="token number">10.244</span>.1.21   pruzicka-k8s-istio-workshop-node03   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/reviews-v1-cb8655c75-hpqfg            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m19s   <span class="token number">10.244</span>.1.22   pruzicka-k8s-istio-workshop-node03   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/reviews-v2-7fc9bb6dcf-snshx           <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m18s   <span class="token number">10.244</span>.2.19   pruzicka-k8s-istio-workshop-node02   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
pod/reviews-v3-c995979bc-wcql9            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          4m18s   <span class="token number">10.244</span>.0.12   pruzicka-k8s-istio-workshop-node01   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</code></pre></div><p>Check the container details - you should see also container <code>istio-proxy</code> next
to <code>productpage</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl describe pod <span class="token parameter variable">-l</span> <span class="token assign-left variable">app</span><span class="token operator">=</span>productpage
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">..</span>.
Containers:
  productpage:
    Container ID:   docker://09597863ee7cdde548ddc1fe1990eed0fea4c28ca7d7a0aedc58af6918edafd6
    Image:          istio/examples-bookinfo-productpage-v1:1.8.0
<span class="token punctuation">..</span>.
  istio-proxy:
    Container ID:  docker://7c411ca50317c307ac326e3dd27a598ff4fd00e53206f15acd8debf5e7b319d8
    Image:         docker.io/istio/proxyv2:1.0.5
<span class="token punctuation">..</span>.
</code></pre></div><p>The <code>kubectl logs</code> command will show you the output of the envoy proxy:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl logs <span class="token variable"><span class="token variable">$(</span>kubectl get pod <span class="token parameter variable">-l</span> <span class="token assign-left variable">app</span><span class="token operator">=</span>productpage <span class="token parameter variable">-o</span> <span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">&quot;{.items[0].metadata.name}&quot;</span><span class="token variable">)</span></span> istio-proxy
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">2019</span>-02-21T08:23:21.009428Z     info    Version root@6f6ea1061f2b-docker.io/istio-1.0.5-c1707e45e71c75d74bf3a5dec8c7086f32f32fad-Clean
<span class="token number">2019</span>-02-21T08:23:21.009468Z     info    Proxy role: model.Proxy<span class="token punctuation">{</span>ClusterID:<span class="token string">&quot;&quot;</span>, Type:<span class="token string">&quot;sidecar&quot;</span>, IPAddress:<span class="token string">&quot;10.244.0.14&quot;</span>, ID:<span class="token string">&quot;productpage-v1-54d799c966-vbm6k.default&quot;</span>, Domain:<span class="token string">&quot;default.svc.cluster.local&quot;</span>, Metadata:map<span class="token punctuation">[</span>string<span class="token punctuation">]</span>string<span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token number">2019</span>-02-21T08:23:21.009751Z     info    Effective config: binaryPath: /usr/local/bin/envoy
configPath: /etc/istio/proxy
connectTimeout: 10s
discoveryAddress: istio-pilot.istio-system:15007
discoveryRefreshDelay: 1s
drainDuration: 45s
parentShutdownDuration: 60s
proxyAdminPort: <span class="token number">15000</span>
serviceCluster: productpage
zipkinAddress: zipkin.istio-system:9411
<span class="token punctuation">..</span>.
</code></pre></div><p>Define the <a href="https://istio.io/docs/reference/config/networking/gateway/" target="_blank" rel="noopener noreferrer">Istio gateway<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
for the application:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> samples/bookinfo/networking/bookinfo-gateway.yaml
kubectl apply <span class="token parameter variable">-f</span> samples/bookinfo/networking/bookinfo-gateway.yaml
<span class="token function">sleep</span> <span class="token number">5</span>
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: bookinfo-gateway
spec:
  selector:
    istio: ingressgateway <span class="token comment"># use istio default controller</span>
  servers:
  - port:
      number: <span class="token number">80</span>
      name: http
      protocol: HTTP
    hosts:
    - <span class="token string">&quot;*&quot;</span>
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
  - <span class="token string">&quot;*&quot;</span>
  gateways:
  - bookinfo-gateway
  http:
  - match:
    - uri:
        exact: /productpage
    - uri:
        exact: /login
    - uri:
        exact: /logout
    - uri:
        prefix: /api/v1/products
    route:
    - destination:
        host: productpage
        port:
          number: <span class="token number">9080</span>
</code></pre></div><p>Confirm the gateway and virtualsevice has been created:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl get gateway,virtualservice
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>NAME                                           AGE
gateway.networking.istio.io/bookinfo-gateway   11s

NAME                                          AGE
virtualservice.networking.istio.io/bookinfo   12s
</code></pre></div><p>Determining the ingress IP and ports when using a node port:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">INGRESS_PORT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl <span class="token parameter variable">-n</span> istio-system get <span class="token function">service</span> istio-ingressgateway <span class="token parameter variable">-o</span> <span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">&quot;{.spec.ports[?(@.name==<span class="token entity" title="\&quot;">\&quot;</span>http2<span class="token entity" title="\&quot;">\&quot;</span>)].nodePort}&quot;</span><span class="token variable">)</span></span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">SECURE_INGRESS_PORT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl <span class="token parameter variable">-n</span> istio-system get <span class="token function">service</span> istio-ingressgateway <span class="token parameter variable">-o</span> <span class="token assign-left variable">jsonpath</span><span class="token operator">=</span><span class="token string">&quot;{.spec.ports[?(@.name==<span class="token entity" title="\&quot;">\&quot;</span>https<span class="token entity" title="\&quot;">\&quot;</span>)].nodePort}&quot;</span><span class="token variable">)</span></span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">INGRESS_HOST</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>kubectl get po <span class="token parameter variable">-l</span> <span class="token assign-left variable">istio</span><span class="token operator">=</span>ingressgateway <span class="token parameter variable">-n</span> istio-system <span class="token parameter variable">-o</span> <span class="token string">&quot;jsonpath={.items[0].status.hostIP}&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token parameter variable">-f</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/terraform.tfstate <span class="token operator">&amp;&amp;</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> vms_public_ip <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/terraform.tfstate<span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">export</span> <span class="token assign-left variable">INGRESS_HOST</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>terraform output <span class="token parameter variable">-json</span> <span class="token parameter variable">-state</span><span class="token operator">=</span><span class="token punctuation">..</span>/<span class="token punctuation">..</span>/terraform.tfstate <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&quot;.vms_public_ip.value[0]&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">GATEWAY_URL</span><span class="token operator">=</span><span class="token variable">$INGRESS_HOST</span><span class="token builtin class-name">:</span><span class="token variable">$INGRESS_PORT</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$INGRESS_PORT</span> | <span class="token variable">$SECURE_INGRESS_PORT</span> | <span class="token variable">$INGRESS_HOST</span> | <span class="token variable">$GATEWAY_URL</span> | http://<span class="token variable">$GATEWAY_URL</span>/productpage&quot;</span>
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">31380</span> <span class="token operator">|</span> <span class="token number">31390</span> <span class="token operator">|</span> <span class="token number">172.16</span>.242.170 <span class="token operator">|</span> <span class="token number">172.16</span>.242.170:31380 <span class="token operator">|</span> http://172.16.242.170:31380/productpage
</code></pre></div><p>Point your browser to <code>http://$GATEWAY_URL/productpage</code>
(take the full URL from the output of the commands above).</p> <hr> <p>Confirm the app is running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-s</span> <span class="token parameter variable">-w</span> <span class="token string">&quot;%{http_code}<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token parameter variable">-A</span> <span class="token string">&quot;Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_3_3 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8J2 Safari/6533.18.5&quot;</span> http://<span class="token variable">${GATEWAY_URL}</span>/productpage
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">200</span>
</code></pre></div><p>Create default <a href="https://istio.io/docs/reference/config/networking/destination-rule/" target="_blank" rel="noopener noreferrer">destination rules<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
(subsets) for the Bookinfo services:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl apply <span class="token parameter variable">-f</span> samples/bookinfo/networking/destination-rule-all.yaml
</code></pre></div><p>Display the destination rules:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>kubectl get destinationrules <span class="token parameter variable">-o</span> yaml
</code></pre></div><p>Output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">..</span>.
- apiVersion: networking.istio.io/v1alpha3
  kind: DestinationRule
<span class="token punctuation">..</span>.
    name: reviews
    namespace: default
<span class="token punctuation">..</span>.
  spec:
    host: reviews
    subsets:
    - labels:
        version: v1
      name: v1
    - labels:
        version: v2
      name: v2
    - labels:
        version: v3
      name: v3
<span class="token punctuation">..</span>.
</code></pre></div><p>Generate some traffic for next 5 minutes to gather some data:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>siege <span class="token parameter variable">--log</span><span class="token operator">=</span>/tmp/siege <span class="token parameter variable">--concurrent</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-q</span> <span class="token parameter variable">--internet</span> <span class="token parameter variable">--time</span><span class="token operator">=</span>5M <span class="token variable">$GATEWAY_URL</span>/productpage <span class="token operator">&amp;</span>
</code></pre></div><p>Open the browser with these pages:</p> <ul><li><p>Servicegraph:</p> <ul><li><p><a href="http://localhost:8088/force/forcegraph.html" target="_blank" rel="noopener noreferrer">http://localhost:8088/force/forcegraph.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="http://localhost:8088/dotviz" target="_blank" rel="noopener noreferrer">http://localhost:8088/dotviz<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></li> <li><p><a href="https://www.kiali.io/" target="_blank" rel="noopener noreferrer">Kiali<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><a href="http://localhost:20001" target="_blank" rel="noopener noreferrer">http://localhost:20001<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (admin/admin)</li></ul></li> <li><p><a href="https://www.jaegertracing.io/" target="_blank" rel="noopener noreferrer">Jaeger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><a href="http://localhost:16686" target="_blank" rel="noopener noreferrer">http://localhost:16686<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><a href="http://localhost:9090/graph" target="_blank" rel="noopener noreferrer">http://localhost:9090/graph<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://www.elastic.co/products/kibana" target="_blank" rel="noopener noreferrer">Kibana<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><a href="https://localhost:5601/app/kibana" target="_blank" rel="noopener noreferrer">https://localhost:5601/app/kibana<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Grafana -&gt; Home -&gt; Istio -&gt;
Istio Performance Dashboard, Istio Service Dashboard,
Istio Workload Dashboard)</li></ul></li></ul> <p>Open the Bookinfo site in your browser <code>http://$GATEWAY_URL/productpage</code>
and refresh the page several times - you should see different versions
of reviews shown in productpage, presented in a <strong>round robin style</strong>
(red stars, black stars, no stars), since we havenâ€™t yet used Istio to control
the version routing.</p> <p><img src="/k8s-istio-workshop/assets/img/bookinfo_v1_v3_v2.d76ff3b4.gif" alt="Bookinfo v1, v3, v2" title="Bookinfo v1, v3, v2"></p> <p>Check the flows in <a href="https://www.kiali.io/" target="_blank" rel="noopener noreferrer">Kiali<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> graph:</p> <p><img src="/k8s-istio-workshop/assets/img/istio_kiali_graph.5f2d46a7.gif" alt="Istio Graph" title="Istio Graph"></p> <hr> <p><img src="/k8s-istio-workshop/assets/img/istio.a24267ed.svg" alt="Istio" title="Istio"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ruzickap/k8s-istio-workshop/edit/master/docs/lab-07/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/30/2024, 2:35:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/k8s-istio-workshop/lab-06/" class="prev">
        Istio - Installation
      </a></span> <span class="next"><a href="/k8s-istio-workshop/lab-08/">
        Istio - Configuring Request Routing
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/k8s-istio-workshop/assets/js/app.aadafe26.js" defer></script><script src="/k8s-istio-workshop/assets/js/2.a8265927.js" defer></script><script src="/k8s-istio-workshop/assets/js/1.3a70545e.js" defer></script><script src="/k8s-istio-workshop/assets/js/15.80434ec3.js" defer></script>
  </body>
</html>
